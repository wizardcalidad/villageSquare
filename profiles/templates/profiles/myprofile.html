{% extends 'base.html' %}
{% load cloudinary %}
{% block title %}my profile{% endblock title %}

{% block content %}


<div class="ui ">

    <div class="ui segment">
    {% if confirm %}
        <div class="ui green message">Your profile has been updated</div>
    {% endif %}
        <h2>my profile: {{request.user}}</h2>
      <div class="ui grid">
      <div class="row">
        <div class="six wide column">
          <img class="ui medium rounded image" src="{{profile.avatar.url }}">
          <div class="row mb-5">
            <button type="button" class="btn btn-danger btn-md" data-toggle="modal" data-target="#myModal">Edit Your Profile</button>
          </div>

        </div>

      </div>
      <div class="ten wide column">
  <table class="ui table">
    <tbody>
    <tr>
      <td>Username:</td>
      <td>{{profile.user}}</td>
    </tr>
    <tr>
      <td>Full Name:</td>
      <td>{{profile.first_name}} {{profile.last_name}}</td>
    </tr>
    <tr>
      <td>Email:</td>
      <td> {{profile.email}}</td>
    </tr>
    <tr>
      <td>Country:</td>
      <td>{{profile.country}}</td>
    </tr>
    <tr>
      <td>Biography:</td>
      <td>{{profile.bio}}</td>
    </tr>
    <tr>
      <td>Number of Friends:</td>
      <td>
        {{profile.get_friends_no}}
      </td>
    </tr>
    <tr>
        <td>Friends</td>
        <td>
          <ul>
            {% for friend in profile.get_friends %}
              <li>{{friend}}</li>

            {% endfor %}

          </ul>
        </td>
    </tr>
    <tr>
      <td>Number of posts:</td>
      <td>{{profile.get_posts_no}}</td>
    </tr>
    <tr>
      <td>Number of likes given:</td>
      <td>{{profile.get_likes_given_no}}</td>
    </tr>
    <tr>
      <td>Number of likes received:</td>
      <td>{{profile.get_likes_received_no}}</td>
  </tr>
    </tbody>
  </table>
</div>
  </div>

    <hr><br>


        <div class="description">
      <div class="ui header">Provide additional information about you.</div>


      <form action="" method="POST" class="modal fade" id="myModal" role="dialog" enctype="multipart/form-data">Update
        {% csrf_token %}
<!--         <div class="modal-dialog">-->
           <div class="modal-content">
              <div class="modal-body">
          <p>{{form.first_name}}</p>
                <p>{{form.last_name}}</p>
                <p>{{form.bio}}</p>
                <p>{{form.avatar}}</p>
        </div>
        <div class="action">
          <button type="submit" class="btn btn-danger btn-md">
              Update
          </button>

        </div>
           </div>

       </form>
    </div>
  </div>

</div>
</div>
{% endblock content %}
